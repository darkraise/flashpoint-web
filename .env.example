# Flashpoint Web - Environment Template
# Copy to .env and fill in required values.
#
# Production:  docker compose up -d
# Development: docker compose -f docker-compose.dev.yml up -d --build

# ---------------------------------------------------------------------------
# Required
# ---------------------------------------------------------------------------
FLASHPOINT_HOST_PATH=/path/to/Flashpoint
JWT_SECRET=replace-with-a-secure-random-string

# ---------------------------------------------------------------------------
# Container Images (production only)
# ---------------------------------------------------------------------------
# Override image tag (images from Docker Hub: darkraise/flashpoint-*)
# IMAGE_TAG=latest

# ---------------------------------------------------------------------------
# Ports (host mapping)
# ---------------------------------------------------------------------------
# These map host ports to container ports (container ports are hardcoded)
WEB_PORT=80
API_PORT=3100

# ---------------------------------------------------------------------------
# Data Storage
# ---------------------------------------------------------------------------
# Host path for persistent data (user.db, local flashpoint.sqlite copy)
DATA_PATH=./data

# ---------------------------------------------------------------------------
# Logging
# ---------------------------------------------------------------------------
# Host path for logs (backend.log, client-errors.log)
LOGS_PATH=./logs
LOG_LEVEL=info

# ---------------------------------------------------------------------------
# OpenTelemetry (optional)
# ---------------------------------------------------------------------------
# Enable OTEL for distributed tracing and metrics
OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
# OTEL_API_KEY=your-api-key-here
OTEL_SERVICE_NAME=flashpoint-web
OTEL_TRACES_ENABLED=true
OTEL_METRICS_ENABLED=true

# ---------------------------------------------------------------------------
# Container User Permissions
# ---------------------------------------------------------------------------
# Match your host user to avoid bind-mount permission issues
# Run 'id -u' and 'id -g' on your host to find your values
# PUID=1000
# PGID=1000

# ---------------------------------------------------------------------------
# Application settings
# ---------------------------------------------------------------------------
NODE_ENV=production
TZ=UTC
DOMAIN=http://localhost:80

# ---------------------------------------------------------------------------
# Database Performance Optimization (for network storage)
# ---------------------------------------------------------------------------
# Enable if FLASHPOINT_HOST_PATH is on a network share (SMB/NFS)
# Copies flashpoint.sqlite to local Docker volume for faster access
ENABLE_LOCAL_DB_COPY=false

# SQLite performance tuning
# SQLITE_CACHE_SIZE: Negative value = KB, -64000 = 64MB cache
SQLITE_CACHE_SIZE=-64000
# SQLITE_MMAP_SIZE: Memory-mapped I/O size in bytes (256MB default)
SQLITE_MMAP_SIZE=268435456

# Cache pre-warming (loads common queries on startup)
ENABLE_CACHE_PREWARM=true

