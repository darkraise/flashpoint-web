# Backend Environment Template (Local Development)
# Copy to .env and fill in required values.

# Required
FLASHPOINT_PATH=D:/Flashpoint
JWT_SECRET=replace-with-a-secure-random-string

# Optional settings
NODE_ENV=development
LOG_LEVEL=info
DOMAIN=http://localhost:5173

# Flashpoint Edition: 'infinity' or 'ultimate'
# Infinity: supports metadata sync, game table has logoPath/screenshotPath
# Ultimate: no metadata sync, game table lacks logoPath/screenshotPath
FLASHPOINT_EDITION=infinity

# Backend -> game-service connection (local development)
GAME_SERVICE_HOST=localhost

# Rate limiting
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100

# Auth
JWT_EXPIRES_IN=1h
BCRYPT_SALT_ROUNDS=10

# Misc
HOME_RECENT_HOURS=24

# Redis (optional)
REDIS_ENABLED=false
REDIS_HOST=localhost
REDIS_PORT=6379

# ---------------------------------------------------------------------------
# Database Performance Optimization (for network storage)
# ---------------------------------------------------------------------------
# Enable if FLASHPOINT_PATH is on a network share (SMB/NFS)
# Copies flashpoint.sqlite to local storage for faster access
ENABLE_LOCAL_DB_COPY=false

# SQLite performance tuning
# SQLITE_CACHE_SIZE: Negative value = KB, -64000 = 64MB cache
SQLITE_CACHE_SIZE=-64000
# SQLITE_MMAP_SIZE: Memory-mapped I/O size in bytes (256MB default)
SQLITE_MMAP_SIZE=268435456

# Cache pre-warming (loads common queries on startup)
ENABLE_CACHE_PREWARM=true
